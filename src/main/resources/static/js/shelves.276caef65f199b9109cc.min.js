webpackJsonp([8,9],{35:function(e,t){"use strict";function o(e,t,o){var i=new Date;i.setSeconds(i.getSeconds()+o),document.cookie=e+"="+escape(t)+"; expires="+i.toGMTString(),console.log(document.cookie)}function i(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(t!=-1){t=t+e.length+1;var o=document.cookie.indexOf(";",t);return o==-1&&(o=document.cookie.length),unescape(document.cookie.substring(t,o))}}return""}function n(e){o(e,"",-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=o,t.getCookie=i,t.delCookie=n},396:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(35);t.default={data:function(){return{id:"",name:"",introduction:"",price:"",stock:"",fastdfsUrl:""}},mounted:function(){},methods:{beforeUpload:function(e){var t=this,o=new FormData;return o.append("file",e),this.$axios.post("../commaodity/upload",o).then(function(e){return console.log(e),2e3!=e.data.code?void t.$message({message:e.data.msg,type:"error"}):(t.$message({message:e.data.msg,type:"success"}),void(t.fastdfsUrl=e.data.details))}).catch(function(e){console.log(e)}),!1},handleSuccess:function(){this.$message({message:"上传成功",type:"success"})},handleError:function(){this.$message({message:"上传失败,请重试",type:"error"})},add:function(){var e=this;return""==this.id||""==this.name||""==this.fastdfsUrl||""==this.introduction||""==this.price||""==this.stock?void this.$message({message:"Please improve information",type:"warning"}):void this.$axios.post("../commaodity/add",{id:this.id,name:this.name,username:(0,i.getCookie)("username"),picture:this.fastdfsUrl,introduction:this.introduction,price:this.price,lave:this.stock,sell:0}).then(function(t){return console.log(t),2001!=t.data.code?void e.$message({message:t.data.msg,type:"error"}):(e.$message({message:t.data.msg,type:"success"}),void e.$router.go(0))}).catch(function(e){console.log(e)})}},watch:{},components:{}}},459:function(e,t,o){t=e.exports=o(20)(),t.push([e.id,".ts-detail-title{width:100%;height:43px;border-bottom:1px solid #ddd;font-size:14px;margin-bottom:16px;color:#555}.ts-detail-title span{display:inline-block;width:104px;text-align:center;border-bottom:2px solid #ea4335;line-height:40px}.shelves-wrap{width:90%;margin-top:18px}.shelves-wrap span{width:190px;padding-right:16px;display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;float:left;font-size:14px;line-height:36px;text-align:right}.shelves-wrap .el-input,.shelves-wrap .upload-demo{float:left;width:320px}.button-wrap{width:524px;margin-left:260px;margin-top:18px}.button-wrap button{display:block}","",{version:3,sources:["/./src/page/admin/children/shelves.vue"],names:[],mappings:"AACA,iBACE,WAAY,AACZ,YAAa,AACb,6BAA8B,AAC9B,eAAgB,AAChB,mBAAoB,AACpB,UAAY,CACb,AACD,sBACE,qBAAsB,AACtB,YAAa,AACb,kBAAmB,AACnB,gCAAiC,AACjC,gBAAkB,CACnB,AACD,cACE,UAAW,AACX,eAAiB,CAClB,AACD,mBACE,YAAa,AACb,mBAAoB,AACpB,qBAAsB,AACtB,gBAAiB,AACjB,mBAAoB,AACpB,uBAAwB,AACxB,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,gBAAkB,CACnB,AAKD,mDAHE,WAAY,AACZ,WAAa,CAKd,AACD,aACE,YAAa,AACb,kBAAmB,AACnB,eAAiB,CAClB,AACD,oBACE,aAAe,CAChB",file:"shelves.vue",sourcesContent:["\n.ts-detail-title {\n  width: 100%;\n  height: 43px;\n  border-bottom: 1px solid #ddd;\n  font-size: 14px;\n  margin-bottom: 16px;\n  color: #555;\n}\n.ts-detail-title span {\n  display: inline-block;\n  width: 104px;\n  text-align: center;\n  border-bottom: 2px solid #ea4335;\n  line-height: 40px;\n}\n.shelves-wrap {\n  width: 90%;\n  margin-top: 18px;\n}\n.shelves-wrap span {\n  width: 190px;\n  padding-right: 16px;\n  display: inline-block;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  float: left;\n  font-size: 14px;\n  line-height: 36px;\n  text-align: right;\n}\n.shelves-wrap .el-input {\n  float: left;\n  width: 320px;\n}\n.shelves-wrap .upload-demo {\n  float: left;\n  width: 320px;\n}\n.button-wrap {\n  width: 524px;\n  margin-left: 260px;\n  margin-top: 18px;\n}\n.button-wrap button {\n  display: block;\n}"],sourceRoot:"webpack://"}])},754:function(e,t,o){var i=o(459);"string"==typeof i&&(i=[[e.id,i,""]]);o(22)(i,{});i.locals&&(e.exports=i.locals)},798:function(e,t,o){o(754);var i=o(16)(o(396),o(809),null,null);e.exports=i.exports},809:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._m(0),e._v(" "),o("div",{staticClass:"shelves-wrap clearFloat"},[o("span",[e._v("Commodity id:")]),o("el-input",{attrs:{placeholder:"Commodity id"},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),o("div",{staticClass:"shelves-wrap clearFloat"},[o("span",[e._v("Commodity name:")]),o("el-input",{attrs:{placeholder:"Commodity name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),o("div",{staticClass:"shelves-wrap clearFloat"},[o("span",[e._v("Picture:")]),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"111","before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleError,multiple:""}},[o("i",{staticClass:"el-icon-upload",staticStyle:{display:"block"}}),e._v(" "),o("div",{staticClass:"el-upload__text"},[e._v("Drag the files here，or "),o("em",[e._v("click upload")])]),e._v(" "),o("div",{staticClass:"el-upload__tip",staticStyle:{"margin-top":"-20px"},attrs:{slot:"tip"},slot:"tip"},[e._v("Only upload jpg/png files, and no more than 4MB")])])],1),e._v(" "),o("div",{staticClass:"shelves-wrap clearFloat"},[o("span",[e._v("Commodity introduction:")]),o("el-input",{attrs:{placeholder:"Commodity introduction"},model:{value:e.introduction,callback:function(t){e.introduction=t},expression:"introduction"}})],1),e._v(" "),o("div",{staticClass:"shelves-wrap clearFloat"},[o("span",[e._v("Price:")]),o("el-input",{attrs:{placeholder:"Price"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),e._v(" "),o("div",{staticClass:"shelves-wrap clearFloat"},[o("span",[e._v("Stock:")]),o("el-input",{attrs:{placeholder:"Stock"},model:{value:e.stock,callback:function(t){e.stock=t},expression:"stock"}})],1),e._v(" "),o("div",{staticClass:"button-wrap"},[o("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Submit")])],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ts-detail-title"},[o("span",[e._v("商品上架")])])}]}}});